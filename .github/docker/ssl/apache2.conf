<VirtualHost *:80>
  ServerName your-domain.com
  Redirect permanent / https://your-domain.com/
</VirtualHost>

<VirtualHost *:443>
  ServerName your-domain.com

  SSLEngine on
  SSLCertificateFile /etc/letsencrypt/live/your-domain.com/fullchain.pem
  SSLCertificateKeyFile /etc/letsencrypt/live/your-domain.com/privkey.pem

  ProxyPreserveHost On
  ProxyPass / http://localhost:4831/
  ProxyPassReverse / http://localhost:4831/

  # WebSocket support
  ProxyPass /ws/ ws://localhost:4831/ws/
  ProxyPassReverse /ws/ ws://localhost:4831/ws/
</VirtualHost>